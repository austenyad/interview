# 面向对象

[TOC]

### 什么是面向对象编程？

面向对象编程是一种编程范式。它以类或对象作为组织代码的基本单元，并将封装、抽象、继承、多态四个特性，作为代码设计和实现的基石。

### 面向对象的四大特征？

##### 封装

信息隐藏 或者 对数据访问的保护 ，类通过暴露有限的访问接口，授权外部仅能通过类提供的方式来访问内部信息或者数据。

封装性，我们需要编程语言本身提供一定的语法机制来支持。这个语法机制就是 访问权限控制。 Java 中 private、public 、protected 、default 等关键字是 Java 语言中访问权限控制语法。通过这些类就能够对外暴露有限的接口，达到隐藏信息和保护数据的目的。

##### 抽象

在面向对象编程中，我们常借助编程语言提供的 接口类（Java 中的 interface 关键字）或者抽象类（比如 Java 中的 abstract 关键字）这两种语法机制，来实现抽象这一特性。 实际上，抽象这这个特性是非常容易实现的，并不需要非得依靠 接口类或抽象类这些特殊语法机制来支持。之所以这么说，是因为，类的方法是通过编程语言中的 “函数” 这一语法机制来实现的。通过函数包裹具体的实现逻辑，这本身就是一种抽象。调用者在调用函数的时候，并不需要去研究内部是实现逻辑，只需要通过函数的命名、注释或者文档，了解其提供了什么功能，就可以直接使用了。

##### 继承

继承表示类与类之间的 is-a 关系 ，比如 猫 是 动物。

继承特性意义- 继承最大好处是就代码复用。假设有两个类有一些相同的属性和方法，我们就可将这些相同的部分，抽取到父类中，让两个子类继承父类。这样 两个子类就可以 重用父类中的代码，避免代码重复写多遍。 不过，这一点也是继承独有的，我们也可以通过其他方式来解决这个代码的复用的问题，比如 利用组合关系而不继承关系。

缺点：

继承的概念很好理解，也很容易使用。不过，过度使用继承，继承层次过深过复杂，就会导致代码的可读性差、可维护性差。为了了解一个类的功能，我们不仅需要查看这个类的代码，还需要按照继承关系一层一层地方上查看 “父类、父类的父类 ......” 的代码。还有，子类和父类高度耦合，修改父类的代码，直接影响到子类。 **在编码时，多用组合少用继承 。**

##### 多态

子类可以替换父类，在实际代码运行过程中，调用子类的方法实现。

多态特性 提高代码的可扩展性 和 复用性。

这里举例最有说服性

![](https://api2.mubu.com/v3/document_image/bc9bb25c-68df-4eb6-8e75-b67adc7ed0ce-8700525.jpg)



上面的例子中，利用多态性，仅用一个 print() 函数就可以遍历打印不同类型（Array、LinkedList）集合的数据。当再增加一种要遍历打印的类型的时候，比如 HashMap，我们就让 HashMap 实现 Iterator 接口，重新实现自己的 hashNext()、next() 等方法就可以了，完全不需要改动 print() 函数的代码。所以说，多态提高了代码的可扩展性。 如果不适用多态，我们无法将不同的集合类型（Array、LinkedList）传递给相同的函数 print(Iterator iterator)。我们就需要对每种要遍历打印的集合，分别实现不同的 print() 函数，比如针对 Array，我们就需要实现 print(Array array) 函数，针对 LinkedList 就要实现 print(LinkedList linkedList) 函数。而利用多态性，我们只需要实现一个 print() 函数的打印逻辑，就能应对各种集合数据的打印操作，这显然提供了代码的复用性。

### 接口与抽象类的区别？

##### 抽象类

1. 抽象类不允许被实例化，只能被继承。
2. 抽象类可有有属性和方法。方法既可以包含代码实现，也可以不包含代码实现，不包含代码实现的叫做抽象方法。
3. 子类继承抽象类，必须实现抽象类中的所有抽象方法。

##### 接口

1. 接口不包含属性（也就是成员变量）
2. 接口只能声明方法，方法不能包含代码实现。
3. 类实现接口的时候，必须实现接口中声明的所有方法。

##### 区别

除了这些语法上的特性，从设计的角度，两者也有比较大的区别：

抽象类实际上就是类，不过是一种比较特殊的类，这种类不能被实例化为对象，只能被类继承。我们知道继承是一种 is-a 关系，那抽象类既然属于类，也表示 is-a 关系。相对于抽象类的 is-a 关系来说，接口表示一种 has-a 关系，表示具有某些功能。









